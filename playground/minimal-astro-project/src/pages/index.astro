---
import { getCollection } from "astro:content";
import SampleTable from "../components/SampleTable.astro";

const draftStoriesCollection = await getCollection("draftStories");
const publishedStoriesCollection = await getCollection("publishedStories");

import { storyblokLoaderStoriesParameters } from "../content.config";
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>astro-loader-storyblok minimal</title>
  </head>
  <body>
    <h1>astro-loader-storyblok</h1>

    <h2>playground: minimal-astro-project</h2>

    <h3>Draft, default:</h3>

    <pre>config = {JSON.stringify(storyblokLoaderStoriesParameters.draftStoriesConfig, null, 2)}</pre>

    <SampleTable storiesCollection={draftStoriesCollection} />

    <h3>Published, sorted:</h3>
    <pre>config = {JSON.stringify(storyblokLoaderStoriesParameters.publishedStoriesConfig, null, 2)}</pre>
    <SampleTable storiesCollection={publishedStoriesCollection} />
  </body>
</html>

<style>
  body {
    font-family: system-ui, sans-serif;
    line-height: 1.4;
    padding: 1rem;
    max-width: 900px;
    margin: auto;
  }

  h1,
  h2,
  h3 {
    margin-bottom: 0;
  }

  h1 {
    font-size: 2.4rem;
  }

  h2 {
    font-size: 1.6rem;
    margin-top: 0em;
  }

  h3 {
    font-size: 1.3rem;
  }

  pre {
    background: #f4f4f4;
    /* width: 100%; */
    padding: 0.5rem;
    overflow-x: auto;
  }
</style>
